<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Todo List_jQuery</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
</head>
<body class="bg-info d-flex flex-column align-items-center">
<div class="container w-50 mt-5 d-flex flex-column align-items-center bg-body-tertiary" id="user_add">
    <div id="haha">
        <input id="user_input" type="text">
        <button type="button" class="btn btn-primary" id="add">ADD</button>
    </div>
</div>
<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script>
    let taskInput = $("#user_input")


    $("#add").click(function () {
       insertTask();
    })

    taskInput.bind('keyup', function (event) {
        if (event.key === "Enter") {
            console.log(1)
            insertTask();
        }
    })
    function insertTask() {
        console.log("haha",taskInput.prop("value"))
        if (taskInput.prop("value") === '') {
            alert("Please Enter a Task");
        }else {
            console.log(taskInput.prop("value"))
            taskInput.parent().append("<div><span>"+ taskInput.prop("value") +"</span><button type=\"button\" class=\"btn btn-primary ms-3\" id=\"deletebutton\">delete</button></div>");
            /*$("#deletebutton").each(function () {
            })*/
            document.querySelectorAll("#deletebutton").forEach(function (btnElement) {
                btnElement.onclick = function () {
                    this.parentNode.remove();
                }
            })
        }
    }
 /*   function addnew() {
        const element = document.getElementById("user_add")
        var user_input = document.getElementById("user_input").value
        console.log(user_input)
        if (user_input !== "") {
            element.innerHTML += "<div><span>" + user_input + "</span><button type=\"button\" class=\"btn btn-primary ms-3\" id=\"deletebutton\" onclick=\"deletebutton()\" >delete</button></div>"
        }

    }*/

</script>
</body>
</html>